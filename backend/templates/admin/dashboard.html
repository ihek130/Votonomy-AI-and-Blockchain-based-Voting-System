{% extends "base_admin.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Admin Dashboard</h2>
  
  <!-- Voting Statistics -->
  <h4 class="mb-3">Voting Statistics</h4>
  <div class="row g-3 mb-5">
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat">
        <h5 class="text-muted">No. of Positions</h5>
        <div class="display-6">{{ num_positions }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat">
        <h5 class="text-muted">No. of Candidates</h5>
        <div class="display-6">{{ num_candidates }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat">
        <h5 class="text-muted">Total Voters</h5>
        <div class="display-6">{{ num_voters }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat">
        <h5 class="text-muted">Voters Voted</h5>
        <div class="display-6">{{ voters_voted }}</div>
      </div>
    </div>
  </div>

  <!-- Complaint Statistics -->
  <h4 class="mb-3">Complaint Management</h4>
  <div class="row g-3 mb-4">
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat">
        <h5 class="text-muted">Total Complaints</h5>
        <div class="display-6">{{ total_complaints }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat" style="border-left: 4px solid #ffc107;">
        <h5 class="text-muted">Pending</h5>
        <div class="display-6 text-warning">{{ pending_complaints }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat" style="border-left: 4px solid #17a2b8;">
        <h5 class="text-muted">In Progress</h5>
        <div class="display-6 text-info">{{ in_progress_complaints }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card-3d p-3 text-center card-stat" style="border-left: 4px solid #28a745;">
        <h5 class="text-muted">Resolved</h5>
        <div class="display-6 text-success">{{ resolved_complaints }}</div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="row g-3">
    <div class="col-md-6">
      <div class="card-3d p-4">
        <h5><i class="fas fa-users me-2"></i>Voter Management</h5>
        <p class="text-muted">Manage voter registrations and approvals</p>
        <a href="{{ url_for('admin_bp.manage_voters') }}" class="btn btn-primary">Manage Voters</a>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card-3d p-4">
        <h5><i class="fas fa-exclamation-triangle me-2"></i>Complaint Management</h5>
        <p class="text-muted">Handle voter complaints and feedback</p>
        <a href="{{ url_for('admin_bp.manage_complaints') }}" class="btn btn-primary">
          View Complaints
          {% if pending_complaints > 0 %}
            <span class="badge bg-warning text-dark ms-2">{{ pending_complaints }}</span>
          {% endif %}
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}